# Conozca los bloques de construcci√≥n de Gatsby

En la [secci√≥n anterior](), prepar√≥ su entorno de desarrollo local instalando el software necesario y creando su primer sitio de Gatsby utilizando el [programa de inicio "hello world"](https://github.com/gatsbyjs/gatsby-starter-hello-world). Ahora, profundice en el c√≥digo generado por ese iniciador.

## Usando entrantes Gatsby

En la [parte cero del tutorial](), cre√≥ un nuevo sitio basado en el iniciador "hello world" usando el siguiente comando:

```shell
gatsby new hello-world https://github.com/gatsbyjs/gatsby-starter-hello-world
```

Al crear un nuevo sitio de Gatsby, puede utilizar la siguiente estructura de comandos para crear un nuevo sitio basado en cualquier iniciador de Gatsby existente:

```shell
gatsby new [SITE_DIRECTORY_NAME] [URL_OF_STARTER_GITHUB_REPO]
```

Si omite una URL del final, Gatsby generar√° autom√°ticamente un sitio para usted basado en el **[inicio predeterminado](https://github.com/gatsbyjs/gatsby-starter-default)**. Para esta secci√≥n del tutorial, qu√©dese con el sitio "Hello World" que ya cre√≥ en la parte cero del tutorial. Puede obtener m√°s informaci√≥n sobre c√≥mo [modificar iniciadores](https://www.gatsbyjs.com/docs/modifying-a-starter) en los documentos.

## ‚úã Abre el c√≥digo

En su editor de c√≥digo, abra el c√≥digo generado para su sitio "Hello World" y eche un vistazo a los diferentes directorios y archivos contenidos en el directorio "hello-world". Deber√≠a verse algo como esto:

![](https://www.gatsbyjs.com/static/6fd22a2eaed057cc2692ac3a86404864/cab8c/01-hello-world-vscode.png)

_Nota: Nuevamente, el editor que se muestra aqu√≠ es Visual Studio Code. Si utiliza un editor diferente, se ver√° un poco diferente._

Echemos un vistazo al c√≥digo que alimenta la p√°gina de inicio.

> üí° Si detuvo su servidor de desarrollo despu√©s de ejecutar `gatsby develop` en la secci√≥n anterior, in√≠cielo de nuevo ahora, ¬°es hora de hacer algunos cambios en el sitio hello-world!

## Familiarizarse con las p√°ginas de Gatsby

Abra el directorio `/src` en su editor de c√≥digo. Dentro hay un solo directorio: `/pages`.

Abra el archivo en `src/pages/index.js`. El c√≥digo de este archivo crea un componente que contiene un solo div y algo de texto, apropiadamente, "Hello World!"

## ‚úã Realice cambios en la p√°gina de inicio de "Hello World"

1. Cambiar el "Hello World!" texto a "Hello Gatsby!" y guarde el archivo. Si sus ventanas est√°n una al lado de la otra, puede ver que su c√≥digo y los cambios de contenido se reflejan casi instant√°neamente en el navegador despu√©s de guardar el archivo.

<figure class="video_container">
  <iframe src="https://www.gatsbyjs.com/1b90d3ec93cedef05781e3e1aaac60a4/02-demo-hot-reloading.mp4" frameborder="0" allowfullscreen="true"> </iframe>
</figure>

> üí° Gatsby utiliza la recarga en caliente para acelerar su proceso de desarrollo. B√°sicamente, cuando est√° ejecutando un servidor de desarrollo de Gatsby, los archivos del sitio de Gatsby se "miran" en segundo plano; cada vez que guarde un archivo, sus cambios se reflejar√°n inmediatamente en el navegador. No es necesario que actualice la p√°gina o reinicie el servidor de desarrollo; sus cambios simplemente aparecen.

2. Ahora puede hacer que sus cambios sean un poco m√°s visibles. Intente reemplazar el c√≥digo en `src/pages/index.js` con el c√≥digo siguiente y guarde nuevamente. Ver√° cambios en el texto: el color del texto ser√° violeta y el tama√±o de fuente ser√° m√°s grande.

```jsx
// src/pages/index.js
import React from "react";

export default function Home() {
  return <div style={{ color: `purple`, fontSize: `72px` }}>Hello Gatsby!</div>;
}
```

> üí° Cubriremos m√°s sobre el estilo en Gatsby en la **[segunda parte]()** del tutorial.

3. Elimine el estilo del tama√±o de fuente, cambie el texto "Hello Gatsby!" a un encabezado de nivel uno y agregue un p√°rrafo debajo del encabezado.

```jsx
// src/pages/index.js

import React from "react";

export default function Home() {
  return (
    <div style={{ color: `purple` }}>
      <h1>Hello World!</h1>
      <p>What a world.</p>
    </div>
  );
}
```

![](https://www.gatsbyjs.com/static/738f82e862eca8d878d19de628291f67/321ea/03-more-hot-reloading.png)

4. Agrega una imagen. (En este caso, una imagen aleatoria de Unsplash).

```jsx
// src/pages/index.js

import React from "react";

export default function Home() {
  return (
    <div style={{ color: `purple` }}>
      <h1>Hello World!</h1>
      <p>What a world.</p>
      <img src="https://source.unsplash.com/random/400x200" alt="" />
    </div>
  );
}
```

![](https://www.gatsbyjs.com/static/ae64a18bc63a9713d0a88f2570abe0dc/321ea/04-add-image.png)

### Espera‚Ä¶ ¬øHTML en nuestro JavaScript?

_Si est√° familiarizado con React y JSX, no dude en omitir esta secci√≥n_. Si no ha trabajado antes con el marco de React, es posible que se pregunte qu√© hace HTML en una funci√≥n de JavaScript. O por qu√© estamos importando `react` en la primera l√≠nea pero aparentemente no lo usamos en ninguna parte. Este "HTML-en-JS" h√≠brido es en realidad una extensi√≥n de sintaxis de JavaScript, para React, llamada JSX. Puedes seguir este tutorial sin experiencia previa con React, pero si tienes curiosidad, aqu√≠ tienes una breve introducci√≥n...

Considere el contenido original del archivo `src/pages/index.js`:

```jsx
// src/pages/index.js

import React from "react";

export default function Home() {
  return <div>Hello world!</div>;
}
```

En JavaScript puro, se parece m√°s a esto:

```javascript
// src/pages/index.js

import React from "react";

export default function Home() {
  return React.createElement("div", null, "Hello world!");
}
```

¬°Ahora puede detectar el uso de la importaci√≥n `'react'`! Pero espera. Est√° escribiendo JSX, no HTML y JavaScript puros. ¬øC√≥mo lee eso el navegador? La respuesta corta: no es as√≠. Los sitios de Gatsby vienen con herramientas ya configuradas para convertir su c√≥digo fuente en algo que los navegadores puedan interpretar.

### Construyendo con componentes

La p√°gina de inicio en la que acababa de realizar modificaciones se cre√≥ definiendo un componente de p√°gina. ¬øQu√© es exactamente un "componente"?

En t√©rminos generales, un componente es un bloque de construcci√≥n para su sitio; Es un fragmento de c√≥digo aut√≥nomo que describe una secci√≥n de la IU (interfaz de usuario).

Gatsby se basa en React. Cuando hablamos de usar y definir **componentes**, realmente estamos hablando de **componentes de React**: piezas de c√≥digo aut√≥nomas (generalmente escritas con JSX) que pueden aceptar entradas y devolver elementos de React que describen una secci√≥n de la interfaz de usuario.

Uno de los grandes cambios mentales que hace al comenzar a construir con componentes (si ya es un desarrollador) es que ahora su CSS, HTML y JavaScript est√°n estrechamente acoplados y, a menudo, viven incluso dentro del mismo archivo.

Si bien es un cambio aparentemente simple, esto tiene profundas implicaciones sobre c√≥mo piensa sobre la construcci√≥n de sitios web.

Tome el ejemplo de la creaci√≥n de un bot√≥n personalizado. En el pasado, creaba una clase CSS (tal vez `.primary-button`) con sus estilos personalizados y luego la usaba cada vez que deseaba aplicar esos estilos. Por ejemplo:

```html
<button class="primary-button">Click me</button>
```

En el mundo de los componentes, en su lugar, crea un componente `PrimaryButton` con sus estilos de bot√≥n y lo usa en todo su sitio como:

```jsx
<PrimaryButton>Click me</PrimaryButton>
```

Los componentes se convierten en los componentes b√°sicos de su sitio. En lugar de limitarse a los componentes b√°sicos que proporciona el navegador, p. Ej. `<button />`, puede crear f√°cilmente nuevos bloques de construcci√≥n que satisfagan con elegancia las necesidades de sus proyectos.

### ‚úã Uso de componentes de p√°gina

Cualquier componente de React definido en `src/pages/*.js` se convertir√° autom√°ticamente en una p√°gina. Veamos esto en acci√≥n.

Ya tiene un archivo `src/pages/index.js` que viene con el iniciador "Hello World". Creemos una p√°gina de informaci√≥n.

1. Cree un nuevo archivo en `src/pages/about.js`, copie el siguiente c√≥digo en el nuevo archivo y gu√°rdelo.

```jsx
// src/pages/about.js

import React from "react";

export default function About() {
  return (
    <div style={{ color: `teal` }}>
      <h1>About Gatsby</h1>
      <p>Such wow. Very React.</p>
    </div>
  );
}
```

2. Vaya a `http://localhost:8000/about/`

![](https://www.gatsbyjs.com/static/ff70fd3cbfd3a0e931b899ca245322fc/f1d1f/05-about-page.png)

Simplemente colocando un componente React en el archivo `src/pages/about.js`, ahora tiene una p√°gina accesible en `/about`.

### ‚úã Usando subcomponentes

Supongamos que la p√°gina de inicio y la p√°gina About se hicieron bastante grandes y estabas reescribiendo muchas cosas. Puede utilizar subcomponentes para dividir la interfaz de usuario en piezas reutilizables. Ambas p√°ginas tienen encabezados `<h1>`: cree un componente que describa un encabezado.

1. Cree un nuevo directorio en `src/components` y un archivo dentro de ese directorio llamado `header.js`.
2. Agregue el siguiente c√≥digo al nuevo archivo `src/components/header.js`.

```jsx
// src/components/header.js

import React from "react";

export default function Header() {
  return <h1>This is a header.</h1>;
}
```

3. Modifique el archivo `about.js` para importar el componente `Header`. Reemplace el marcado `h1` con `<header />`:

```jsx
// src/pages/about.js

import React from "react";
import Header from "../components/header";

export default function About() {
  return (
    <div style={{ color: `teal` }}>
      <Header />
      <p>Such wow. Very React.</p>
    </div>
  );
}
```

![](https://www.gatsbyjs.com/static/ff64a1f15ebbe5e1f1aad740d0686ff7/321ea/06-header-component.png)

En el navegador, el texto del encabezado "About Gatsby" ahora debe reemplazarse por "This is a header". Pero no desea que la p√°gina "About" diga "This is a header.". Quieres que diga "About Gatsby".

4. Regrese a `src/components/header.js` y realice el siguiente cambio:

```jsx
// src/components/header.js

import React from "react";

export default function Header(props) {
  return <h1>{props.headerText}</h1>;
}
```

5. Regrese a `src/pages/about.js` y realice el siguiente cambio:

```jsx
// src/pages/about.js

import React from "react";
import Header from "../components/header";

export default function About() {
  return (
    <div style={{ color: `teal` }}>
      <Header headerText="About Gatsby" />
      <p>Such wow. Very React.</p>
    </div>
  );
}
```

![](https://www.gatsbyjs.com/static/a7da09d0252e86518be87c3608bb1c85/321ea/07-pass-data-header.png)

¬°Ahora deber√≠a ver de nuevo el texto del encabezado "About Gatsby"!

### ¬øQu√© son los "props"?

Anteriormente, defini√≥ los componentes de React como piezas de c√≥digo reutilizables que describen una interfaz de usuario. Para dinamizar estas piezas reutilizables es necesario poder suministrarles diferentes datos. Lo haces con una entrada llamada "props". Los props son (apropiadamente) propiedades proporcionadas a los componentes de React.

En `about.js`, pas√≥ una propiedad `headerText` con el valor de `"About Gatsby"` al subcomponente importado `Header`:

```jsx
// src/pages/about.js

<Header headerText="About Gatsby" />
```

En `header.js`, el componente de encabezado espera recibir la propiedad `headerText` (porque lo ha escrito para esperar eso). Para que pueda acceder a √©l as√≠:

```jsx
// src/components/header.js

<h11>{props.headerText}</h11>
```

> üí° En JSX, puede incrustar cualquier expresi√≥n de JavaScript envolvi√©ndola con `{}`. As√≠ es como puede acceder a la propiedad `headerText` (o "prop!") Desde el objeto "props".

Si hubiera pasado otro accesorio a su componente `<Header />`, as√≠...

```jsx
// src/pages/about.js

<Header headerText="About Gatsby" arbitraryPhrase="is arbitrary" />
```

...tambi√©n habr√≠a podido acceder al prop `arbitraryPhrase`: `{props.arbitraryPhrase}`.

6. Para enfatizar c√≥mo esto hace que sus componentes sean reutilizables, agregue un componente `<Header />` adicional a la p√°gina about, agregue el siguiente c√≥digo al archivo `src/pages/about.js` y guarde.

```jsx
// src/pages/about.js

import React from "react";
import Header from "../components/header";

export default function About() {
  return (
    <div style={{ color: `teal` }}>
      <Header headerText="About Gatsby" />
      <Header headerText="It's pretty cool" />
      <p>Such wow. Very React.</p>
    </div>
  );
}
```

![](https://www.gatsbyjs.com/static/439851d3a4ba8a727b4c07abefce54a9/321ea/08-duplicate-header.png)

Y ah√≠ lo tienes; Un segundo encabezado, sin reescribir ning√∫n c√≥digo, al pasar diferentes datos utilizando accesorios.

### Usar componentes de layout

Los componentes de layout son para secciones de un sitio que desea compartir en varias p√°ginas. Por ejemplo, los sitios de Gatsby suelen tener un componente de layout con un encabezado y un pie de p√°gina compartidos. Otras cosas comunes para agregar a los dise√±os incluyen una barra lateral y / o un men√∫ de navegaci√≥n.

Explorar√° los componentes del dise√±o en la **[tercera parte]()**.

## Vinculaci√≥n entre p√°ginas

A menudo querr√°s vincular p√°ginas: veamos el enrutamiento en un sitio de Gatsby.

### ‚úã Uso del componente `<Link />`

1. Abra el componente de la p√°gina de √≠ndice (`src/pages/index.js`), importe el componente `<Link />` de Gatsby, agregue un componente `<Link />` encima del encabezado y as√≠gnele una propiedad `to` con el valor de `"/contact/"` para el nombre de la ruta:

```jsx
// src/pages/index.js

import React from "react";
import { Link } from "gatsby";
import Header from "../components/header";

export default function Home() {
  return (
    <div style={{ color: `purple` }}>
      <Link to="/contact/">Contact</Link>
      <Header headerText="Hello Gatsby!" />
      <p>What a world.</p>
      <img src="https://source.unsplash.com/random/400x200" alt="" />
    </div>
  );
}
```

Al hacer clic en el nuevo enlace "Contact" en la p√°gina de inicio, deber√≠a ver...

![](https://www.gatsbyjs.com/static/5b621cd422b1ccc1181808580a57dd32/6bbf7/09-dev-404.png)

‚Ä¶La p√°gina 404 de desarrollo de Gatsby. ¬øPor qu√©? Porque est√° intentando vincular a una p√°gina que a√∫n no existe.

2. Ahora tendr√° que crear un componente de p√°gina para su nueva p√°gina "Contact" en `src/pages/contact.js` y hacer que se vincule a la p√°gina de inicio:

```jsx
// src/pages/contact.js

import React from "react";
import { Link } from "gatsby";
import Header from "../components/header";

export default function Contact() {
  return (
    <div style={{ color: `teal` }}>
      <Link to="/">Home</Link>
      <Header headerText="Contact" />
      <p>Send us a message!</p>
    </div>
  );
}
```

Despu√©s de guardar el archivo, deber√≠a ver la p√°gina de contacto y poder seguir el enlace a la p√°gina de inicio.

<figure class="video_container">
  <iframe src="https://www.gatsbyjs.com/cb12c2b330b8fc38cf95f01e6214378d/10-linking-between-pages.mp4" frameborder="0" allowfullscreen="true"> </iframe>
</figure>

El componente Gatsby `<Link />` es para vincular p√°ginas dentro de su sitio. Para enlaces externos a p√°ginas que no maneja su sitio de Gatsby, use la etiqueta HTML `<a>` normal.

## Implementar un sitio de Gatsby

Gatsby es un _generador de sitios moderno_, lo que significa que no hay servidores que configurar ni bases de datos complicadas que implementar. En su lugar, el comando de `deploy` de Gatsby produce un directorio de archivos HTML y JavaScript est√°ticos que puede implementar en un servicio de alojamiento de sitios est√°ticos.

Intente usar [Surge](https://surge.sh/) para implementar su primer sitio web de Gatsby. Surge es uno de los muchos "hosts de sitios est√°ticos" que hace posible implementar sitios de Gatsby.

> Gatsby Cloud es otra opci√≥n de implementaci√≥n, creada por el equipo detr√°s de Gatsby. En la siguiente secci√≥n, encontrar√° instrucciones para [implementar en Gatsby Cloud](https://www.gatsbyjs.com/tutorial/part-one/#alternative-deploying-to-gatsby-cloud).

Si no ha instalado y configurado Surge previamente, abra una nueva ventana de terminal e instale su herramienta de l√≠nea de comandos:

```shell
npm install --global surge

# Then create a (free) account with them
surge login
```

A continuaci√≥n, cree su sitio ejecutando el siguiente comando en la terminal en la ra√≠z de su sitio (consejo: aseg√∫rese de ejecutar este comando en la ra√≠z de su sitio, en este caso en la carpeta hello-world, que puede hacerlo abriendo una nueva pesta√±a en la misma ventana que usaste para ejecutar `gatsby develop`):

```shell
gatsby build
```

La construcci√≥n deber√≠a tardar entre 15 y 30 segundos. Una vez finalizada la compilaci√≥n, es interesante echar un vistazo a los archivos que el comando `gatsby build` acaba de preparar para implementar.

Eche un vistazo a una lista de los archivos generados escribiendo el siguiente comando de terminal en la ra√≠z de su sitio, que le permitir√° ver el directorio `public`:

```shell
ls public
```

Luego, finalmente implemente su sitio publicando los archivos generados en surge.sh. Para una cuenta de surge reci√©n creada, debe verificar su correo electr√≥nico con surge antes de publicar su sitio (primero revise su bandeja de entrada y verifique su correo electr√≥nico).

```shell
surge public/
```

> Tenga en cuenta que tendr√° que presionar la tecla enter despu√©s de ver la informaci√≥n de `domain: some-name.surge.sh` en su interfaz de l√≠nea de comandos.

Una vez que esto termine de ejecutarse, deber√≠a ver en su terminal algo como:

![](https://www.gatsbyjs.com/static/2718feec8167496f9e7a5087a5f539e7/321ea/surge-deployment.png)

Abra la direcci√≥n web que aparece en la l√≠nea inferior (`lowly-pain.surge.sh` en este caso) y ver√° su sitio reci√©n publicado. ¬°Buen trabajo!

### Alternativa: implementaci√≥n en Gatsby Cloud

[Gatsby Cloud](https://gatsbyjs.com/) es una plataforma creada espec√≠ficamente para los sitios de Gatsby, con caracter√≠sticas como vistas previas en tiempo real, compilaciones r√°pidas e integraciones con docenas de otras herramientas. Es el mejor lugar para crear e implementar sitios creados con Gatsby, y puedes usar Gatsby Cloud gratis para proyectos personales.

Para implementar su sitio en Gatsby Cloud, cree una cuenta en [GitHub](https://github.com/) si no tiene una. GitHub te permite alojar y colaborar en proyectos de c√≥digo usando Git para el control de versiones.

Crea un nuevo repositorio en GitHub. Ya que est√° importando su proyecto existente, querr√° uno completamente vac√≠o, as√≠ que no lo inicialice con archivos `README` o `.gitignore`.

Puedes decirle a Git d√≥nde est√° el repositorio remoto (es decir, no en tu computadora) as√≠:

```shell
git remote add origin [GITHUB_REPOSITORY_URL]
```

Cuando creaste un nuevo proyecto de Gatsby con un iniciador, autom√°ticamente hizo una `git commit` inicial de git o un conjunto de cambios. Ahora, puede enviar sus cambios a la nueva ubicaci√≥n remota:

```shell
git push -u origin master
```

¬°Ahora est√° listo para vincular este repositorio de GitHub directamente a Gatsby Cloud! Consulte la gu√≠a de referencia sobre [implementaci√≥n en Gatsby Cloud](https://www.gatsbyjs.com/docs/deploying-to-gatsby-cloud/#set-up-an-existing-gatsby-site).

## ‚û°Ô∏è ¬øQu√© sigue?

En esta secci√≥n usted:

- Aprendi√≥ sobre los principiantes de Gatsby y c√≥mo usarlos para crear nuevos proyectos.
- Aprendi√≥ sobre la sintaxis JSX
- Aprendi√≥ sobre componentes
- Aprendi√≥ sobre los componentes y subcomponentes de la p√°gina de Gatsby
- Aprendi√≥ sobre los "accesorios" de React y la reutilizaci√≥n de componentes de React

Ahora, contin√∫e [agregando estilos a su sitio!]()
